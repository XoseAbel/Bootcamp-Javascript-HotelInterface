{"id":"awMQ","dependencies":[{"name":"E:\\WorkSpace\\Bootcamp\\01_Javascript\\05_hotel_interface\\tsconfig.json","includedInParent":true,"mtime":1592920459862},{"name":"E:\\WorkSpace\\Bootcamp\\01_Javascript\\05_hotel_interface\\package.json","includedInParent":true,"mtime":1593097902914},{"name":"../../../store","loc":{"line":1,"column":22},"parent":"E:\\WorkSpace\\Bootcamp\\01_Javascript\\05_hotel_interface\\app\\pages\\invoice\\components\\invoicing.ts","resolved":"E:\\WorkSpace\\Bootcamp\\01_Javascript\\05_hotel_interface\\app\\store.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.invoicing=void 0;var e=require(\"../../../store\"),r=function(r){var o={resolve:[],reject:[]};o.resolve.push(r.asignedRoom);var t=[];r.asignedRoom.forEach(function(r){var o=e.store.rooms.find(function(e){return e.idRoom===r});t.push(o.price)});var n=(new Date(r.checkOutDate)-new Date(r.checkInDate))/864e5;return o.resolve.push(t.map(function(e){return e*n})),e.store.guests.forEach(function(e){e.idGuest===r.idGuest&&(e.invoice=!0)}),e.store.previousCustomers.find(function(e){return r.members.some(function(r){return r.idCard===e.idCard})})&&o.resolve.push(\"Previous\"),o.resolve};exports.invoicing=r;"},"sourceMaps":{"js":{"mappings":[{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":0}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":13}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":20}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":35}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":43}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":56}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":57}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":64}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":68}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":76}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":91}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":93}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":97}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":99}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":107}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":125}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":25},"generated":{"line":1,"column":127}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":26},"generated":{"line":1,"column":136}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":5,"column":8},"generated":{"line":1,"column":139}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":5,"column":8},"generated":{"line":1,"column":143}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":5,"column":25},"generated":{"line":1,"column":145}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":6,"column":4},"generated":{"line":1,"column":146}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":6,"column":13},"generated":{"line":1,"column":154}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":7,"column":4},"generated":{"line":1,"column":157}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":7,"column":12},"generated":{"line":1,"column":164}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":168}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":10,"column":9},"generated":{"line":1,"column":170}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":10,"column":17},"generated":{"line":1,"column":178}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":10,"column":22},"generated":{"line":1,"column":183}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":10,"column":28},"generated":{"line":1,"column":185}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":12,"column":8},"generated":{"line":1,"column":198}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":12,"column":8},"generated":{"line":1,"column":202}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":12,"column":26},"generated":{"line":1,"column":204}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":207}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":1,"column":209}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":13,"column":20},"generated":{"line":1,"column":221}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":13,"column":28},"generated":{"line":1,"column":229}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":13,"column":28},"generated":{"line":1,"column":238}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":241}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":245}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":20},"generated":{"line":1,"column":247}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":26},"generated":{"line":1,"column":249}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":26},"generated":{"line":1,"column":255}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":32},"generated":{"line":1,"column":261}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":37},"generated":{"line":1,"column":266}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":37},"generated":{"line":1,"column":275}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":46},"generated":{"line":1,"column":278}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":46},"generated":{"line":1,"column":285}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":52},"generated":{"line":1,"column":287}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":14,"column":63},"generated":{"line":1,"column":296}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":300}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":15,"column":10},"generated":{"line":1,"column":302}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":15,"column":15},"generated":{"line":1,"column":307}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":15,"column":25},"generated":{"line":1,"column":309}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":18,"column":8},"generated":{"line":1,"column":318}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":322}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":18,"column":23},"generated":{"line":1,"column":325}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":18,"column":27},"generated":{"line":1,"column":329}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":18,"column":32},"generated":{"line":1,"column":334}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":18,"column":38},"generated":{"line":1,"column":336}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":19,"column":22},"generated":{"line":1,"column":350}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":19,"column":26},"generated":{"line":1,"column":354}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":19,"column":31},"generated":{"line":1,"column":359}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":19,"column":37},"generated":{"line":1,"column":361}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":20,"column":55},"generated":{"line":1,"column":375}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":381}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":388}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":390}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":22,"column":17},"generated":{"line":1,"column":398}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":22,"column":22},"generated":{"line":1,"column":403}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":22,"column":28},"generated":{"line":1,"column":405}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":22,"column":32},"generated":{"line":1,"column":409}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":22,"column":32},"generated":{"line":1,"column":418}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":22,"column":41},"generated":{"line":1,"column":421}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":22,"column":41},"generated":{"line":1,"column":428}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":22,"column":49},"generated":{"line":1,"column":430}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":435}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":437}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":443}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":24,"column":15},"generated":{"line":1,"column":450}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":24,"column":23},"generated":{"line":1,"column":458}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":24,"column":23},"generated":{"line":1,"column":467}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":470}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":25,"column":14},"generated":{"line":1,"column":472}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":25,"column":26},"generated":{"line":1,"column":482}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":25,"column":32},"generated":{"line":1,"column":484}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":25,"column":41},"generated":{"line":1,"column":494}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":25,"column":47},"generated":{"line":1,"column":496}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":25,"column":57},"generated":{"line":1,"column":505}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":1,"column":510}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":28,"column":30},"generated":{"line":1,"column":512}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":28,"column":30},"generated":{"line":1,"column":518}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":28,"column":48},"generated":{"line":1,"column":536}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":28,"column":53},"generated":{"line":1,"column":541}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":28,"column":53},"generated":{"line":1,"column":550}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":553}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":560}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":562}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":1,"column":570}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":575}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":584}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":33},"generated":{"line":1,"column":587}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":33},"generated":{"line":1,"column":594}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":40},"generated":{"line":1,"column":596}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":51},"generated":{"line":1,"column":605}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":29,"column":57},"generated":{"line":1,"column":607}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":619}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":621}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":1,"column":629}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":32,"column":24},"generated":{"line":1,"column":634}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":646}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":34,"column":16},"generated":{"line":1,"column":648}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":657}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":665}},{"source":"app/pages/invoice/components/invoicing.ts","name":null,"original":{"line":4,"column":7},"generated":{"line":1,"column":675}}],"sources":{"app/pages/invoice/components/invoicing.ts":"import { guest, Result } from '../../../types';\r\nimport { store } from '../../../store';\r\n\r\nexport const invoicing = (guest: guest) => {\r\n  const result: Result = {\r\n    resolve: [],\r\n    reject: [],\r\n  };\r\n  //almacenamos idrooms en posicion 0\r\n  result.resolve.push(guest.asignedRoom);\r\n  //sacamos el precio por dia\r\n  const price: number[] = [];\r\n  guest.asignedRoom.forEach(room => {\r\n    let roomPrice = store.rooms.find(value => value.idRoom === room);\r\n    price.push(roomPrice.price);\r\n  });\r\n  //calculamos dias\r\n  const checkOutDate = new Date(guest.checkOutDate);\r\n  const checkInDate = new Date(guest.checkInDate);\r\n  const days: number = (checkOutDate - checkInDate) / (1000 * 60 * 60 * 24);\r\n  //almacenamos precio en posicion 1\r\n  result.resolve.push(price.map(value => value * days));\r\n  // cambiamos estado guest Invoice a TRUE\r\n  store.guests.forEach(value => {\r\n    if (value.idGuest === guest.idGuest) value.invoice = true;\r\n  });\r\n  // buscar miembros en previousCustomer\r\n  const previousCheck = store.previousCustomers.find(value =>\r\n    guest.members.some(member => member.idCard === value.idCard)\r\n  );\r\n  if (previousCheck) {\r\n    result.resolve.push('Previous');\r\n  }\r\n  return result.resolve;\r\n};\r\n"},"lineCount":null}},"error":null,"hash":"01c6cc9493c9da26a2123e082168ccc4","cacheData":{"env":{}}}